
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Tom Keffer <tkeffer@gmail.com>">
      
      
        <link rel="canonical" href="https://www.weewx.com/custom/image_generator/">
      
      
        <link rel="prev" href="../cheetah/">
      
      
        <link rel="next" href="../multiple_bindings/">
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.9">
    
    
      
        <title>The Image generator - weewx documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CInconsolata+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans";--md-code-font:"Inconsolata Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/weewx_ui.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="white">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#image_generator" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="weewx documentation" class="md-header__button md-logo" aria-label="weewx documentation" data-md-component="logo">
      
  <img src="../../images/logo-weewx.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            weewx documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Image generator
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="white"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/weewx/weewx" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    WeeWX GitHub Repository
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="weewx documentation" class="md-nav__button md-logo" aria-label="weewx documentation" data-md-component="logo">
      
  <img src="../../images/logo-weewx.png" alt="logo">

    </a>
    weewx documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/weewx/weewx" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    WeeWX GitHub Repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../quickstarts/">Quick starts</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Quick starts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstarts/debian/" class="md-nav__link">
        Debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstarts/redhat/" class="md-nav__link">
        RedHat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstarts/suse/" class="md-nav__link">
        SuSE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstarts/pip/" class="md-nav__link">
        pip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstarts/v5-upgrade/" class="md-nav__link">
        Migrating to V5
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../usersguide/">User's guide</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User's guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/system-requirements/" class="md-nav__link">
        System requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/installing-weewx/" class="md-nav__link">
        Installing WeeWX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/where/" class="md-nav__link">
        Where to find things
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/running-weewx/" class="md-nav__link">
        Running WeeWX
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/webserver-integration/" class="md-nav__link">
        Web server integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/backing-up-weewx/" class="md-nav__link">
        Backup & restore
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/mysql-mariadb-config/" class="md-nav__link">
        Configuring MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/troubleshooting-guide/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../usersguide/weewx-config-file/">Reference: options</a>
          
            <label for="__nav_2_10">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          Reference: options
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/general/" class="md-nav__link">
        General options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stations-config/" class="md-nav__link">
        [Station]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdrestful-config/" class="md-nav__link">
        [StdRESTful]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdreport-config/" class="md-nav__link">
        [StdReport]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdconvert-config/" class="md-nav__link">
        [StdConvert]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdcalibrate-config/" class="md-nav__link">
        [StdCalibrate]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdqc-config/" class="md-nav__link">
        [StdQC]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdwxcalculate-config/" class="md-nav__link">
        [StdWXCalculate]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdarchive/" class="md-nav__link">
        [StdArchive]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/stdtimesynch/" class="md-nav__link">
        [StdTimeSynch]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/data-bindings/" class="md-nav__link">
        [DataBindings]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/databases/" class="md-nav__link">
        [Databases]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/databasetypes/" class="md-nav__link">
        [DatabaseTypes]
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usersguide/weewx-config-file/engine/" class="md-nav__link">
        [Engine]
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../">Customization guide</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Customization guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../custom_reports/" class="md-nav__link">
        Customizing reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cheetah/" class="md-nav__link">
        The Cheetah generator
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          The Image generator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        The Image generator
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#time-periods" class="md-nav__link">
    Time periods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-files" class="md-nav__link">
    Image files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#including-more-than-one-type-in-a-plot" class="md-nav__link">
    Including more than one type in a plot
  </a>
  
    <nav class="md-nav" aria-label="Including more than one type in a plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#including_same_sql_type_2x" class="md-nav__link">
    Including a type more than once in a plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arbitrary_expressions_in_plot" class="md-nav__link">
    Including arbitrary expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-unit-used-in-a-plot" class="md-nav__link">
    Changing the unit used in a plot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line_gaps" class="md-nav__link">
    Line gaps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#progressive-vector-plots" class="md-nav__link">
    Progressive vector plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overriding-values" class="md-nav__link">
    Overriding values
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multiple_bindings/" class="md-nav__link">
        Multiple data bindings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../localization/" class="md-nav__link">
        Localization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../service_engine/" class="md-nav__link">
        Customizing the service engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        Customizing the database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../units/" class="md-nav__link">
        Customizing units
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../derived/" class="md-nav__link">
        Derived types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../drivers/" class="md-nav__link">
        Custom drivers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../extensions/" class="md-nav__link">
        Extensions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../options_ref/" class="md-nav__link">
        Reference: options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../appendix/" class="md-nav__link">
        Appendix
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../utilities/">Utilities</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../weectl/">weectl</a>
          
            <label for="__nav_4_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          weectl
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weectl/station/" class="md-nav__link">
        weectl station
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../weectl/extension/" class="md-nav__link">
        weectl extension
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#wee_database_utility" class="md-nav__link">
        wee_database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#wee_debug_utility" class="md-nav__link">
        wee_debug
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#wee_device_utility" class="md-nav__link">
        wee_device
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#wee_import_utility" class="md-nav__link">
        wee_import
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#wee_reports_utility" class="md-nav__link">
        wee_reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../utilities/utilities.htm#weewxd" class="md-nav__link">
        weewxd
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../upgrading.htm" class="md-nav__link">
        Upgrade guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../hardware.htm" class="md-nav__link">
        Hardware guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../devnotes/" class="md-nav__link">
        Notes for developers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../hardware.htm" class="md-nav__link">
        Hardware comparison
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../changes/" class="md-nav__link">
        Change log
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../support/" class="md-nav__link">
        Support
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#time-periods" class="md-nav__link">
    Time periods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-files" class="md-nav__link">
    Image files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#including-more-than-one-type-in-a-plot" class="md-nav__link">
    Including more than one type in a plot
  </a>
  
    <nav class="md-nav" aria-label="Including more than one type in a plot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#including_same_sql_type_2x" class="md-nav__link">
    Including a type more than once in a plot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arbitrary_expressions_in_plot" class="md-nav__link">
    Including arbitrary expressions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-unit-used-in-a-plot" class="md-nav__link">
    Changing the unit used in a plot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line_gaps" class="md-nav__link">
    Line gaps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#progressive-vector-plots" class="md-nav__link">
    Progressive vector plots
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overriding-values" class="md-nav__link">
    Overriding values
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="image_generator">The Image generator<a class="headerlink" href="#image_generator" title="Permanent link">&para;</a></h1>
<p>This section gives an overview of the Image generator. For details about each of its various
options, see the section <a href="../options_ref/#ImageGenerator"><code>[ImageGenerator]</code></a> in the <a href="../options_ref"><em>Reference: report
options</em></a>.</p>
<p>The installed version of WeeWX is configured to generate a set of useful plots. But, what if you
don't like how they look, or you want to generate different plots, perhaps with different
aggregation types? This section covers how to do this.</p>
<p>Image generation is controlled by the section <a href="../options_ref/#ImageGenerator"><code>[ImageGenerator]</code></a> in the skin
configuration file <code>skin.conf</code>. Let's take a look at the beginning part of this section. It looks
like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">[ImageGenerator]</span>
<span class="w">    </span><span class="na">...</span>
<span class="w">    </span><span class="na">image_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">500</span>
<span class="w">    </span><span class="na">image_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">180</span>
<span class="w">    </span><span class="na">image_background_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="c1">#f5f5f5</span>

<span class="w">    </span><span class="na">chart_background_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="c1">#d8d8d8</span>
<span class="w">    </span><span class="na">chart_gridline_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="c1">#a0a0a0</span>
<span class="w">    </span><span class="na">...</span>
</code></pre></div>
<p>The options directly under the section name <code>[ImageGenerator]</code> will apply to <em>all</em> plots, unless
overridden in subsections. So, unless otherwise changed, all plots will be 500 pixels in width, 180
pixels in height, and will have an RGB background color of #f5f5f5, a very light gray (HTML color
"WhiteSmoke"). The chart itself will have a background color of #d8d8d8 (a little darker gray),
and the gridlines will be #a0a0a0 (still darker). The other options farther down (not shown) will
also apply to all plots.</p>
<h2 id="time-periods">Time periods<a class="headerlink" href="#time-periods" title="Permanent link">&para;</a></h2>
<p>After the "global" options at the top of section <code>[ImageGenerator]</code>, comes a set of sub-sections,
one for each time period (day, week, month, and year). These sub-sections define the nature of
aggregation and plot types for that time period. For example, here is a typical set of options for
sub-section <code>[[month_images]]</code>. It controls which "monthly" images will get generated, and what
they will look like:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">[[month_images]]</span>
<span class="w">        </span><span class="na">x_label_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%d</span>
<span class="w">        </span><span class="na">bottom_label_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">%m/%d/%y %H:%M</span>
<span class="w">        </span><span class="na">time_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">2592000</span><span class="w">    </span><span class="c1"># == 30 days</span>
<span class="w">        </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">avg</span>
<span class="w">        </span><span class="na">aggregate_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">3h</span>
<span class="w">        </span><span class="na">show_daynight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">false</span>
</code></pre></div>
<p>The option <code>x_label_format</code> gives a
<a href="https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior">strftime()</a>
type format for the x-axis. In this example, it will only show days
(format option <code>%d</code>). The <code>bottom_label_format</code> is the
format used to time stamp the image at the bottom. In this example, it
will show the time as something like <code>10/25/09 15:35</code>. A plot
will cover a nominal 30 days, and all items included in it will use an
aggregate type of averaging over 3 hours. Finally, by setting option
<code>show_daynight</code> to <code>false</code>, we are requesting that
day-night, shaded bands not be shown.</p>
<h2 id="image-files">Image files<a class="headerlink" href="#image-files" title="Permanent link">&para;</a></h2>
<p>Within each time period sub-section is another nesting, one for each
image to be generated. The title of each sub-sub-section is the filename
to be used for the image. Finally, at one additional nesting level (!)
are the logical names of all the line types to be drawn in the image.
Like elsewhere, the values specified in the level above can be
overridden. For example, here is a typical set of options for
sub-sub-section <code>[[[monthrain]]]</code>:</p>
<div class="highlight"><pre><span></span><code><span class="w">        </span><span class="k">[[[monthrain]]]</span>
<span class="w">            </span><span class="na">plot_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">bar</span>
<span class="w">            </span><span class="na">yscale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">None, None, 0.02</span>
<span class="w">            </span><span class="k">[[[[rain]]]]</span>
<span class="w">                </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">sum</span>
<span class="w">                </span><span class="na">aggregate_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1d</span>
<span class="w">                </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Rain (daily total)</span>
</code></pre></div>
<p>This will generate an image file with name <code>monthrain.png</code>. It
will be a bar plot. Option <code>yscale</code> controls the y-axis scaling
&mdash; if left out, the scale will be chosen automatically. However, in
this example we are choosing to exercise some degree of control by
specifying values explicitly. The option is a 3-way tuple
(<code>ylow</code>, <code>yhigh</code>, <code>min_interval</code>), where
<code>ylow</code> and <code>yhigh</code> are the minimum and maximum y-axis
values, respectively, and <code>min_interval</code> is the minimum tick
interval. If set to <code>None</code>, the corresponding value will be
automatically chosen. So, in this example, the setting</p>
<div class="highlight"><pre><span></span><code><span class="na">yscale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">None, None, 0.02</span>
</code></pre></div>
<p>will cause WeeWX to pick sensible y minimum and maximum values, but
require that the tick increment (<code>min_interval</code>) be at least
0.02.</p>
<p>Continuing on with the example above, there will be only one plot
"line" (it will actually be a series of bars) and it will have logical
name <code>rain</code>. Because we have not said otherwise, the database
column name to be used for this line will be the same as its logical
name, that is, <code>rain</code>, but this can be overridden. The
aggregation type will be summing (overriding the averaging specified in
sub-section <code>[[month_images]]</code>), so you get the total rain
over the aggregate period (rather than the average) over an aggregation
interval of 86,400 seconds (one day). The plot line will be titled with
the indicated label of 'Rain (daily total)'. The result of all this is
the following plot:</p>
<p><img alt="Sample monthly rain plot" src="../../images/sample_monthrain.png" /></p>
<h2 id="including-more-than-one-type-in-a-plot">Including more than one type in a plot<a class="headerlink" href="#including-more-than-one-type-in-a-plot" title="Permanent link">&para;</a></h2>
<p>More than one observation can be included in a plot. For example, here
is how to generate a plot with the week's outside temperature as well
as dewpoint:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[[monthtempdew]]]</span>
<span class="w">    </span><span class="k">[[[[outTemp]]]]</span>
<span class="w">    </span><span class="k">[[[[dewpoint]]]]</span>
</code></pre></div>
<p>This would create an image in file <code>monthtempdew.png</code> that
includes a line plot of both outside temperature and dewpoint:</p>
<p><img alt="Monthly temperature and dewpoint" src="../../images/sample_monthtempdew.png" /></p>
<h3 id="including_same_sql_type_2x">Including a type more than once in a plot<a class="headerlink" href="#including_same_sql_type_2x" title="Permanent link">&para;</a></h3>
<p>Another example. Suppose that you want a plot of the day's temperature, overlaid
with hourly averages. Here, you are using the same data type
(<code>outTemp</code>) for both plot lines, the first with averages, the
second without. If you do the obvious it won't work:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># WRONG ##</span>
<span class="k">[[[daytemp_with_avg]]]</span>
<span class="w">    </span><span class="k">[[[[outTemp]]]]</span>
<span class="w">        </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">avg</span>
<span class="w">        </span><span class="na">aggregate_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1h</span>
<span class="w">    </span><span class="na">[[[[outTemp]]]]  # OOPS! The same section name appears more than once!</span>
</code></pre></div>
<p>The option parser does not allow the same section name (<code>outTemp</code>
in this case) to appear more than once at a given level in the
configuration file, so an error will be declared (technical reason:
formally, the sections are an unordered dictionary). If you wish for the
same observation to appear more than once in a plot then there is a
trick you must know: use option <code>data_type</code>. This will override
the default action that the logical line name is used for the database
column. So, our example would look like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[[daytemp_with_avg]]]</span>
<span class="w">    </span><span class="k">[[[[avgTemp]]]]</span>
<span class="w">        </span><span class="na">data_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">outTemp</span>
<span class="w">        </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">avg</span>
<span class="w">        </span><span class="na">aggregate_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1h</span>
<span class="w">        </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Avg. Temp.</span>
<span class="w">    </span><span class="k">[[[[outTemp]]]]</span>
</code></pre></div>
<p>Here, the first plot line has been given the name <code>avgTemp</code> to
distinguish it from the second line <code>outTemp</code>. Any name will do
&mdash; it just has to be different. We have specified that the first line
will use data type <code>outTemp</code> and that it will use averaging over
a one hour period. The second also uses <code>outTemp</code>, but will not
use averaging.</p>
<p>The result is a nice plot of the day's temperature, overlaid with a one-hour smoothed average:</p>
<p><img alt="Daytime temperature with running average" src="../../images/daytemp_with_avg.png" /></p>
<p>One more example. This one shows daily high and low temperatures for a
year:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[year_images]]</span>
<span class="w">    </span><span class="k">[[[yearhilow]]]</span>
<span class="w">        </span><span class="k">[[[[hi]]]]</span>
<span class="w">            </span><span class="na">data_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">outTemp</span>
<span class="w">            </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">max</span>
<span class="w">            </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">High</span>
<span class="w">        </span><span class="k">[[[[low]]]]</span>
<span class="w">            </span><span class="na">data_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">outTemp</span>
<span class="w">            </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">min</span>
<span class="w">            </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Low Temperature</span>
</code></pre></div>
<p>This results in the plot <code>yearhilow.png</code>:</p>
<p><img alt="Daily highs and lows" src="../../images/yearhilow.png" /></p>
<h2 id="arbitrary_expressions_in_plot">Including arbitrary expressions<a class="headerlink" href="#arbitrary_expressions_in_plot" title="Permanent link">&para;</a></h2>
<p>The option <code>data_type</code> can actually be <em>any arbitrary SQL
expression</em> that is valid in the context of the available types in the
schema. For example, say you wanted to plot the difference between
inside and outside temperature for the year. This could be done with:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[year_images]]</span>
<span class="w">    </span><span class="k">[[[yeardiff]]]</span>
<span class="w">        </span><span class="k">[[[[diff]]]]</span>
<span class="w">            </span><span class="na">data_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">inTemp-outTemp</span>
<span class="w">            </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Inside - Outside</span>
</code></pre></div>
<p>Note that the option <code>data_type</code> is now an expression
representing the difference between <code>inTemp</code> and
<code>outTemp</code>, the inside and outside temperature, respectively. This
results in a plot <code>yeardiff.png</code>:</p>
<p><img alt="Inside - outside temperature" src="../../images/yeardiff.png" /></p>
<h2 id="changing-the-unit-used-in-a-plot">Changing the unit used in a plot<a class="headerlink" href="#changing-the-unit-used-in-a-plot" title="Permanent link">&para;</a></h2>
<p>Normally, the unit used in a plot is set by the unit group of the
observation types in the plot. For example, consider this plot of
today's outside temperature and dewpoint:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">[[day_images]]</span>
<span class="w">        </span><span class="na">...</span>
<span class="w">        </span><span class="k">[[[daytempdew]]]</span>
<span class="w">            </span><span class="k">[[[[outTemp]]]]</span>
<span class="w">            </span><span class="k">[[[[dewpoint]]]]</span>
</code></pre></div>
<p>Both <code>outTemp</code> and <code>dewpoint</code> belong to unit group
<code>group_temperature</code>, so this plot will use whatever unit has been
specified for that group. See the section <a href="../custom_reports/#mixed-units"><em>Mixed units</em></a>
for details.</p>
<p>However, supposed you'd like to offer both Metric and US Customary
versions of the same plot? You can do this by using option
<a href="../options_ref/#unit"><code>unit</code></a> to override the unit used for
individual plots:</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">[[day_images]]</span>
<span class="w">        </span><span class="na">...</span>
<span class="w">        </span><span class="k">[[[daytempdewUS]]]</span>
<span class="hll"><span class="w">            </span><span class="na">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">degree_F</span>
</span><span class="w">            </span><span class="k">[[[[outTemp]]]]</span>
<span class="w">            </span><span class="k">[[[[dewpoint]]]]</span>

<span class="w">        </span><span class="k">[[[daytempdewMetric]]]</span>
<span class="hll"><span class="w">            </span><span class="na">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">degree_C</span>
</span><span class="w">            </span><span class="k">[[[[outTemp]]]]</span>
<span class="w">            </span><span class="k">[[[[dewpoint]]]]</span>
</code></pre></div>
<p>This will produce two plots: file <code>daytempdewUS.png</code> will be in
degrees Fahrenheit, while file <code>dayTempMetric.png</code> will use
degrees Celsius.</p>
<h2 id="line_gaps">Line gaps<a class="headerlink" href="#line_gaps" title="Permanent link">&para;</a></h2>
<p>If there is a time gap in the data, the option
<a href="../options_ref/#line_gap_fraction"><code>line_gap_fraction</code></a> controls how line plots will be drawn.
Here's what a plot looks like without and with this option being
specified:</p>
<table>
<thead>
<tr>
<th><img alt="Gap not shown" src="../../images/day-gap-not-shown.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td>No <code>line_gap_fraction</code> specified</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><img alt="Gap showing" src="../../images/day-gap-showing.png" /></th>
</tr>
</thead>
<tbody>
<tr>
<td>With <code>line_gap_fraction=0.01</code>.<br/>Note how each line has been split into two lines.</td>
</tr>
</tbody>
</table>
<h2 id="progressive-vector-plots">Progressive vector plots<a class="headerlink" href="#progressive-vector-plots" title="Permanent link">&para;</a></h2>
<p>WeeWX can produce progressive vector plots as well as the more
conventional x-y plots. To produce these, use plot type <code>vector</code>.
You need a vector type to produce this kind of plot. There are two:
<code>windvec</code>, and <code>windgustvec</code>. While they do not actually
appear in the database, WeeWX understands that they represent special
vector-types. The first, <code>windvec</code>, represents the average wind
in an archive period, the second, <code>windgustvec</code> the max wind in
an archive period. Here's how to produce a progressive vector for one
week that shows the hourly biggest wind gusts, along with hourly
averages:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[[weekgustoverlay]]]</span>
<span class="w">    </span><span class="na">aggregate_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">1h</span>
<span class="w">    </span><span class="k">[[[[windvec]]]]</span>
<span class="w">        </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Hourly Wind</span>
<span class="w">        </span><span class="na">plot_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">vector</span>
<span class="w">        </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">avg</span>
<span class="w">    </span><span class="k">[[[[windgustvec]]]]</span>
<span class="w">        </span><span class="na">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">Gust Wind</span>
<span class="w">        </span><span class="na">plot_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">vector</span>
<span class="w">        </span><span class="na">aggregate_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">max</span>
</code></pre></div>
<p>This will produce an image file with name <code>weekgustoverlay.png</code>.
It will consist of two progressive vector plots, both using hourly
aggregation (3,600 seconds). For the first set of vectors, the hourly
average will be used. In the second, the max of the gusts will be used:</p>
<p><img alt="hourly average wind vector overlaid with gust vectors" src="../../images/weekgustoverlay.png" /></p>
<p>By default, the sticks in the progressive wind plots point towards the
wind source. That is, the stick for a wind from the west will point
left. If you have a chronic wind direction (as I do), you may want to
rotate the default direction so that all the vectors do not line up over
the x-axis, overlaying each other. Do this by using option
<code>vector_rotate</code>. For example, with my chronic westerlies, I set
<code>vector_rotate</code> to 90.0 for the plot above, so winds out of the
west point straight up.</p>
<p>If you use this kind of plot (the out-of-the-box version of WeeWX
includes daily, weekly, monthly, and yearly progressive wind plots), a
small compass rose will be put in the lower-left corner of the image to
show the orientation of North.</p>
<h2 id="overriding-values">Overriding values<a class="headerlink" href="#overriding-values" title="Permanent link">&para;</a></h2>
<p>Remember that values at any level can override values specified at a
higher level. For example, say you want to generate the standard plots,
but for a few key observation types such as barometer, you want to also
generate some oversized plots to give you extra detail, perhaps for an
HTML popup. The standard <code>skin.conf</code> file specifies plot size of
300x180 pixels, which will be used for all plots unless overridden:</p>
<div class="highlight"><pre><span></span><code><span class="k">[ImageGenerator]</span>
<span class="w">    </span><span class="na">...</span>
<span class="w">    </span><span class="na">image_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">300</span>
<span class="w">    </span><span class="na">image_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">180</span>
</code></pre></div>
<p>The standard plot of barometric pressure will appear in
<code>daybarometer.png</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">[[[daybarometer]]]</span>
<span class="w">    </span><span class="k">[[[[barometer]]]]</span><span class="w"> </span>
</code></pre></div>
<p>We now add our special plot of barometric pressure, but specify a larger
image size. This image will be put in file
<code>daybarometer_big.png</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">[[[daybarometer_big]]]</span>
<span class="w">    </span><span class="na">image_width</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s">600</span>
<span class="w">    </span><span class="na">image_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">360</span>
<span class="w">    </span><span class="k">[[[[barometer]]]]</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2009-2023 Thomas Keffer and Matthew Wall, all rights reserved
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "toc.follow", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fac441b0.min.js"></script>
      
    
  </body>
</html>